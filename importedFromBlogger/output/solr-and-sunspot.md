{
  "raw": "<entry>\n  <author>\n    <name>YT Kuah</name>\n    <uri>https://www.blogger.com/profile/12922664246915351758</uri>\n    <email>noreply@blogger.com</email>\n  </author>\n  <category term=\"sunspot\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"http://schemas.google.com/blogger/2008/kind#post\"\n    scheme=\"http://schemas.google.com/g/2005#kind\"/>\n  <category term=\"autocomplete\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"rails\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"ruby\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"full-text search\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"solr\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <content type=\"html\">&lt;b&gt;Update&lt;/b&gt;: I have found a nicer way of doing autocomplete. Basically, use the string type with the &quot;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #444444; font-family: Monaco, Consolas, 'DejaVu Sans Mono', monospace; font-size: 11px; line-height: 14px; white-space: pre;&quot;&gt;starting_with&quot;&amp;nbsp;&lt;/span&gt;method.&amp;nbsp;See this &lt;a href=&quot;http://outoftime.lighthouseapp.com/projects/20339/tickets/55-wildcard-searches#ticket-55-10&quot;&gt;ticket comment&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://lucene.apache.org/solr/&quot;&gt;Solr&lt;/a&gt; is really nice search engine which has the added advantage of being able to &lt;a href=&quot;http://wiki.apache.org/solr/SchemaXml#head-73cdcd26354f1e31c6268b365023f21ee8796613&quot;&gt;return items&lt;/a&gt; that you put into the search engine, unlike say, sphinx (which is really fast but only returns the &lt;a href=&quot;http://www.sphinxsearch.com/docs/current.html#data-restrictions&quot;&gt;document id&lt;/a&gt;).&lt;br /&gt;&lt;br /&gt;However, Solr &lt;a href=&quot;http://wiki.apache.org/solr/SolrQuerySyntax&quot;&gt;is&lt;/a&gt; &lt;a href=&quot;http://lucene.apache.org/java/2_4_0/queryparsersyntax.html&quot;&gt;very&lt;/a&gt; &lt;a href=&quot;http://wiki.apache.org/solr/SolrPlugins&quot;&gt;complex&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Thankfully, there is a very neat &lt;a href=&quot;http://outoftime.github.com/sunspot/&quot;&gt;ruby abstraction for Solr&lt;/a&gt;, called &lt;a href=&quot;http://github.com/outoftime/sunspot/tree&quot;&gt;Sunspot&lt;/a&gt;. Given I needed to do autocomplete on it, i.e. &quot;query*&quot; type stuff, I had to &lt;a href=&quot;http://github.com/kuahyeow/sunspot/tree/master&quot;&gt;fork Sunspot&lt;/a&gt;. Here is the relevant change I made to &lt;a href=&quot;http://github.com/kuahyeow/sunspot/commit/033ac410446bb506f4c09e8ca93a9648ec8abca0&quot;&gt;enable wildcard searches with Sunspot&lt;/a&gt;:&lt;br /&gt;&lt;a name='more'&gt;&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;http://pastie.org/592897&quot;&gt;http://pastie.org/592897&lt;/a&gt;&lt;br /&gt;&lt;script src=&quot;http://pastie.org/592897.js&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;For those interested in how this works, it uses the &lt;a href=&quot;http://wiki.apache.org/solr/DisMaxRequestHandler#head-9d23a23915b7932490069d3262ef7f3625e398ff&quot;&gt;q.alt parameter&lt;/a&gt; as Sunspot uses the rather &quot;user-friendly&quot; &lt;a href=&quot;http://wiki.github.com/outoftime/sunspot/fulltext-search&quot;&gt;DisMaxRequestHandler&lt;/a&gt;, which ignores &quot;*&quot; characters.</content>\n  <id>tag:blogger.com,1999:blog-12015963.post-3138951155637895244</id>\n  <link href=\"http://blog.kuahyeow.com/feeds/3138951155637895244/comments/default\"\n    rel=\"replies\"\n    type=\"application/atom+xml\"\n    title=\"Post Comments\"/>\n  <link href=\"https://www.blogger.com/comment.g?blogID=12015963&amp;postID=3138951155637895244\"\n    rel=\"replies\"\n    type=\"text/html\"\n    title=\"0 Comments\"/>\n  <link href=\"https://www.blogger.com/feeds/12015963/posts/default/3138951155637895244\"\n    rel=\"edit\"\n    type=\"application/atom+xml\"/>\n  <link href=\"https://www.blogger.com/feeds/12015963/posts/default/3138951155637895244\"\n    rel=\"self\"\n    type=\"application/atom+xml\"/>\n  <link href=\"http://blog.kuahyeow.com/2009/08/solr-and-sunspot.html\"\n    rel=\"alternate\"\n    type=\"text/html\"\n    title=\"Solr, and Sunspot\"/>\n  <published>2009-08-24T21:35:00.0+12:00</published>\n  <title type=\"text\">Solr, and Sunspot</title>\n  <updated>2010-02-23T11:35:47.855+13:00</updated>\n</entry>",
  "slug": "solr-and-sunspot",
  "title": "Solr, and Sunspot",
  "author": "YT Kuah",
  "date": "2009-08-24T21:35:00.0+12:00",
  "tags": [
    "sunspot",
    "autocomplete",
    "rails",
    "ruby",
    "full-text search",
    "solr"
  ]
}

<b>Update</b>: I have found a nicer way of doing autocomplete. Basically, use the string type with the "<span class="Apple-style-span" style="color: #444444; font-family: Monaco, Consolas, 'DejaVu Sans Mono', monospace; font-size: 11px; line-height: 14px; white-space: pre;">starting_with"&nbsp;</span>method.&nbsp;See this <a href="http://outoftime.lighthouseapp.com/projects/20339/tickets/55-wildcard-searches#ticket-55-10">ticket comment</a>.<br /><br /><a href="http://lucene.apache.org/solr/">Solr</a> is really nice search engine which has the added advantage of being able to <a href="http://wiki.apache.org/solr/SchemaXml#head-73cdcd26354f1e31c6268b365023f21ee8796613">return items</a> that you put into the search engine, unlike say, sphinx (which is really fast but only returns the <a href="http://www.sphinxsearch.com/docs/current.html#data-restrictions">document id</a>).<br /><br />However, Solr <a href="http://wiki.apache.org/solr/SolrQuerySyntax">is</a> <a href="http://lucene.apache.org/java/2_4_0/queryparsersyntax.html">very</a> <a href="http://wiki.apache.org/solr/SolrPlugins">complex</a>.<br /><br />Thankfully, there is a very neat <a href="http://outoftime.github.com/sunspot/">ruby abstraction for Solr</a>, called <a href="http://github.com/outoftime/sunspot/tree">Sunspot</a>. Given I needed to do autocomplete on it, i.e. "query*" type stuff, I had to <a href="http://github.com/kuahyeow/sunspot/tree/master">fork Sunspot</a>. Here is the relevant change I made to <a href="http://github.com/kuahyeow/sunspot/commit/033ac410446bb506f4c09e8ca93a9648ec8abca0">enable wildcard searches with Sunspot</a>:<br /><a name='more'></a><br /><a href="http://pastie.org/592897">http://pastie.org/592897</a><br /><script src="http://pastie.org/592897.js"></script><br /><br />For those interested in how this works, it uses the <a href="http://wiki.apache.org/solr/DisMaxRequestHandler#head-9d23a23915b7932490069d3262ef7f3625e398ff">q.alt parameter</a> as Sunspot uses the rather "user-friendly" <a href="http://wiki.github.com/outoftime/sunspot/fulltext-search">DisMaxRequestHandler</a>, which ignores "*" characters.