{
  "raw": "<entry>\n  <author>\n    <name>YT Kuah</name>\n    <uri>https://www.blogger.com/profile/12922664246915351758</uri>\n    <email>noreply@blogger.com</email>\n  </author>\n  <category term=\"panic\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"ubuntu\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"http://schemas.google.com/blogger/2008/kind#post\"\n    scheme=\"http://schemas.google.com/g/2005#kind\"/>\n  <category term=\"sudo\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"recovery\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"lessons learnt\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <content type=\"html\">If like me, after a &lt;span style=&quot;font-style: italic;&quot;&gt;long&lt;/span&gt; week at work, you find yourself typing in a ubuntu terminal:&lt;br /&gt;&lt;blockquote&gt;sudo chown mail /&lt;/blockquote&gt;[I'll explain why later]&lt;br /&gt;&lt;br /&gt;Then you are in for a whole heap of trouble, because, inexplicably, sudo now does not work, instead, it complains about /var/run/sudo not owned by uid 0 (root), but by uid 8, which I presume to be the user mail.&lt;br /&gt;&lt;br /&gt;By the way, all contents of folder 'var' is now under the dominion of the unholy 'mail' user.&lt;br /&gt;&lt;br /&gt;Worst, you can't use sudo to magically set our good friend root where it belongs.&lt;br /&gt;&lt;br /&gt;I racked my brains for ways to make sudo work, from using a different file other than /var/run/sudo, to making sudo run as a different user other than root. None of them worked. I can't run as root either.... or could I?&lt;br /&gt;&lt;br /&gt;Then I realised, I can go into Ubuntu Recovery mode and it will give me terminal access &lt;span style=&quot;font-weight: bold;&quot;&gt;as root&lt;/span&gt;.&lt;br /&gt;&lt;blockquote&gt;chown -R root:root  var/&lt;/blockquote&gt;And my problem is solved!&lt;br /&gt;ps. you want to know why i did that kamikaze command. There was a 'mail' folder that was locked, and i was trying to chown it to my user. Bad move!</content>\n  <id>tag:blogger.com,1999:blog-12015963.post-4433744495395501627</id>\n  <link href=\"http://blog.kuahyeow.com/feeds/4433744495395501627/comments/default\"\n    rel=\"replies\"\n    type=\"application/atom+xml\"\n    title=\"Post Comments\"/>\n  <link href=\"https://www.blogger.com/comment.g?blogID=12015963&amp;postID=4433744495395501627\"\n    rel=\"replies\"\n    type=\"text/html\"\n    title=\"0 Comments\"/>\n  <link href=\"https://www.blogger.com/feeds/12015963/posts/default/4433744495395501627\"\n    rel=\"edit\"\n    type=\"application/atom+xml\"/>\n  <link href=\"https://www.blogger.com/feeds/12015963/posts/default/4433744495395501627\"\n    rel=\"self\"\n    type=\"application/atom+xml\"/>\n  <link href=\"http://blog.kuahyeow.com/2007/01/ubuntu-troubles-harikiri-commands.html\"\n    rel=\"alternate\"\n    type=\"text/html\"\n    title=\"Ubuntu Troubles (Harikiri commands)\"/>\n  <published>2007-01-20T01:18:00+13:00</published>\n  <title type=\"text\">Ubuntu Troubles (Harikiri commands)</title>\n  <updated>2007-01-20T01:31:28.586+13:00</updated>\n</entry>",
  "slug": "ubuntu-troubles-harikiri-commands",
  "title": "Ubuntu Troubles (Harikiri commands)",
  "author": "YT Kuah",
  "date": "2007-01-20T01:18:00+13:00"
}

If like me, after a <span style="font-style: italic;">long</span> week at work, you find yourself typing in a ubuntu terminal:<br /><blockquote>sudo chown mail /</blockquote>[I'll explain why later]<br /><br />Then you are in for a whole heap of trouble, because, inexplicably, sudo now does not work, instead, it complains about /var/run/sudo not owned by uid 0 (root), but by uid 8, which I presume to be the user mail.<br /><br />By the way, all contents of folder 'var' is now under the dominion of the unholy 'mail' user.<br /><br />Worst, you can't use sudo to magically set our good friend root where it belongs.<br /><br />I racked my brains for ways to make sudo work, from using a different file other than /var/run/sudo, to making sudo run as a different user other than root. None of them worked. I can't run as root either.... or could I?<br /><br />Then I realised, I can go into Ubuntu Recovery mode and it will give me terminal access <span style="font-weight: bold;">as root</span>.<br /><blockquote>chown -R root:root  var/</blockquote>And my problem is solved!<br />ps. you want to know why i did that kamikaze command. There was a 'mail' folder that was locked, and i was trying to chown it to my user. Bad move!