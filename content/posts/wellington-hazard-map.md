{
  "raw": "<entry>\n  <author>\n    <name>YT Kuah</name>\n    <uri>https://www.blogger.com/profile/12922664246915351758</uri>\n    <email>noreply@blogger.com</email>\n  </author>\n  <category term=\"http://schemas.google.com/blogger/2008/kind#post\"\n    scheme=\"http://schemas.google.com/g/2005#kind\"/>\n  <category term=\"hazard\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"wellington\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"map\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"gadget\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <category term=\"opengovt\"\n    scheme=\"http://www.blogger.com/atom/ns#\"/>\n  <content type=\"html\">Reading this &lt;a href=&quot;http://www.stuff.co.nz/dominion-post/local/2957143/Full-list-of-hazards-revealed&quot;&gt;article about Wellington Hazards&lt;/a&gt; just makes me want to plot it on a map. It took a while, but here is a &lt;a href=&quot;http://maps.google.co.nz/maps/ms?ie=UTF8&amp;amp;hl=en&amp;amp;msa=0&amp;amp;msid=105368590499327803003.000475dc20f9a8d9d5142&amp;amp;t=h&amp;amp;z=11&quot;&gt;map of Wellington Hazards / Contamination&lt;/a&gt;. Below is a screenshots of the hazards on Google Earth and Google Maps (Google Earth shot nicely prepared by &lt;a href=&quot;http://www.cameron-prebble.com/&quot;&gt;Cameron&lt;/a&gt;).&amp;nbsp; Let me know what do you think?&lt;br /&gt;&lt;br /&gt;Read on after the jump for hyper-technical explanation of how I made the map.&amp;nbsp; &lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/_ftRNxhptfh4/StuP4I5qc-I/AAAAAAAAAc4/wwsroHQdujg/s1600/hazardmapgered.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; class=&quot;&quot; more=&quot;&quot; src=&quot;http://4.bp.blogspot.com/_ftRNxhptfh4/StuP4I5qc-I/AAAAAAAAAc4/wwsroHQdujg/s400/hazardmapgered.png&quot; title=&quot;Wellington Hazards and Contaminants map&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/_ftRNxhptfh4/StuSjYMCw6I/AAAAAAAAAdA/M0AGg0zv2YM/s1600-h/Hazards+Wellington_1255470787905.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://1.bp.blogspot.com/_ftRNxhptfh4/StuSjYMCw6I/AAAAAAAAAdA/M0AGg0zv2YM/s400/Hazards+Wellington_1255470787905.png&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;Here's the lowdown on the technical wizardry. The data is based on &lt;a href=&quot;http://static.stuff.co.nz/files/WCC-slur.pdf&quot;&gt;http://static.stuff.co.nz/files/WCC-slur.pdf&lt;/a&gt;. I had to extract the data out from the pdf, obtaining a spreadsheet that looks like this:&lt;br /&gt;&lt;blockquote&gt;&lt;span style=&quot;font-size: x-small;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot;&gt;No &amp;amp; STREET &amp;amp; City &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; HAIL &amp;amp; CLASSIFICATION&amp;amp; CONTAMINANTS &lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: x-small;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot;&gt;50 BUCKLE ST EASTERN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Service Stations Verified History of Hazardous Activity or Industry &lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: x-small;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot;&gt;75 DARLINGTON RD EASTERN &amp;nbsp;&amp;nbsp;&amp;nbsp; Landfill Verified History of Hazardous Activity or Industry &lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: x-small;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot;&gt;501 EVANS BAY PDE EASTERN &amp;nbsp;&amp;nbsp; Service Stations Verified History of Hazardous Activity or Industry &lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: x-small;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot;&gt;9 -11 KENT TCE EASTERN &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Storage Verified History of Hazardous Activity or Industry &lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/blockquote&gt;The address leaves a lot to be desired. Having data like 'Eastern' for the city column makes no sense to anyone or a program. Cleaning that up and adding &quot;Wellington NZ&quot; would make it easier for geocoding. We now have this:&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size: x-small;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot;&gt;HAIL &amp;amp; CLASSIFICATION&amp;amp; CONTAMINANTS&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Full Cleaned Address&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot; /&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot;&gt;Service Stations Verified History of Hazardous Activity or Industry &amp;nbsp; 50 BUCKLE ST&amp;nbsp; Wellington New Zealand&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot; /&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot;&gt;Landfill Verified History of Hazardous Activity or Industry &amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 75 DARLINGTON RD&amp;nbsp; Wellington New Zealand&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot; /&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot;&gt;Service Stations Verified History of Hazardous Activity or Industry &amp;nbsp; 501 EVANS BAY PDE&amp;nbsp; Wellington New Zealand&lt;/span&gt;&lt;br style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot; /&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;,Courier,monospace;&quot;&gt;Storage Verified History of Hazardous Activity or Industry &amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 9 -11 KENT TCE&amp;nbsp; Wellington New Zealand&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;We can now geocode, using the &lt;a href=&quot;http://pamelafox-samplecode.googlecode.com/svn/trunk/spreadsheetsgeocoder/spreadsheetsgeocoder.xml&quot;&gt;helpful spreadsheet geocoder&lt;/a&gt; (&lt;a href=&quot;http://www.mail-archive.com/google-maps-api@googlegroups.com/msg09461.html&quot;&gt;instructions here&lt;/a&gt;). The only limitation was that only 100 addresses can be geo-coded at one time. But that's fine as I only have 592 addresses.&lt;br /&gt;&lt;br /&gt;Now here is the tricky bit, there is no good way to get items from a spreadsheet onto a map. The best way I could was use KML. I used the &lt;a href=&quot;http://earth.google.com/outreach/tutorial_spreadsheet.html&quot;&gt;Spreadsheet Mapper v2.0&lt;/a&gt;, but it was far too painful with the browser locking with just 600 rows. Here is the resultant spreadsheet: &lt;a href=&quot;http://spreadsheets.google.com/pub?key=tXlYA3d_eh42qOboocs8zug&amp;amp;output=html&quot;&gt;http://spreadsheets.google.com/pub?key=tXlYA3d_eh42qOboocs8zug&amp;amp;output=html&lt;/a&gt;. I will most likely use PostGis and the &lt;a href=&quot;http://postgis.refractions.net/docs/ST_AsKML.html&quot;&gt;asKML function&lt;/a&gt; next time.&lt;br /&gt;&lt;br /&gt;Data spreadsheet: &lt;a href=&quot;http://spreadsheets.google.com/pub?key=t_4WKBgw34UvW_zQMChuVKw&amp;amp;gid=0&quot;&gt;http://spreadsheets.google.com/pub?key=t_4WKBgw34UvW_zQMChuVKw&amp;amp;gid=0&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Google Maps (my maps): &lt;a href=&quot;http://maps.google.co.nz/maps/ms?ie=UTF8&amp;amp;hl=en&amp;amp;msa=0&amp;amp;msid=105368590499327803003.000475dc20f9a8d9d5142&amp;amp;t=h&amp;amp;z=11&quot;&gt;http://maps.google.co.nz/maps/ms?ie=UTF8&amp;amp;hl=en&amp;amp;msa=0&amp;amp;msid=105368590499327803003.000475dc20f9a8d9d5142&amp;amp;t=h&amp;amp;z=11&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;KML file (.kml): &lt;a href=&quot;http://maps.google.co.nz/maps/ms?ie=UTF8&amp;amp;hl=en&amp;amp;t=h&amp;amp;msa=0&amp;amp;output=nl&amp;amp;msid=105368590499327803003.000475dc20f9a8d9d5142&quot;&gt;http://maps.google.co.nz/maps/ms?ie=UTF8&amp;amp;hl=en&amp;amp;t=h&amp;amp;msa=0&amp;amp;output=nl&amp;amp;msid=105368590499327803003.000475dc20f9a8d9d5142&lt;/a&gt;</content>\n  <id>tag:blogger.com,1999:blog-12015963.post-3624729657430404216</id>\n  <link href=\"http://blog.kuahyeow.com/feeds/3624729657430404216/comments/default\"\n    rel=\"replies\"\n    type=\"application/atom+xml\"\n    title=\"Post Comments\"/>\n  <link href=\"https://www.blogger.com/comment.g?blogID=12015963&amp;postID=3624729657430404216\"\n    rel=\"replies\"\n    type=\"text/html\"\n    title=\"0 Comments\"/>\n  <link href=\"https://www.blogger.com/feeds/12015963/posts/default/3624729657430404216\"\n    rel=\"edit\"\n    type=\"application/atom+xml\"/>\n  <link href=\"https://www.blogger.com/feeds/12015963/posts/default/3624729657430404216\"\n    rel=\"self\"\n    type=\"application/atom+xml\"/>\n  <link href=\"http://blog.kuahyeow.com/2009/10/wellington-hazard-map.html\"\n    rel=\"alternate\"\n    type=\"text/html\"\n    title=\"Wellington Hazard Map\"/>\n  <published>2009-10-19T21:42:00+13:00</published>\n  <title type=\"text\">Wellington Hazard Map</title>\n  <updated>2009-10-19T21:42:10.445+13:00</updated>\n</entry>",
  "slug": "wellington-hazard-map",
  "title": "Wellington Hazard Map",
  "author": "YT Kuah",
  "date": "2009-10-19T21:42:00+13:00",
  "tags": [
    "hazard",
    "wellington",
    "map",
    "gadget",
    "opengovt"
  ]
}

Reading this <a href="http://www.stuff.co.nz/dominion-post/local/2957143/Full-list-of-hazards-revealed">article about Wellington Hazards</a> just makes me want to plot it on a map. It took a while, but here is a <a href="http://maps.google.co.nz/maps/ms?ie=UTF8&amp;hl=en&amp;msa=0&amp;msid=105368590499327803003.000475dc20f9a8d9d5142&amp;t=h&amp;z=11">map of Wellington Hazards / Contamination</a>. Below is a screenshots of the hazards on Google Earth and Google Maps (Google Earth shot nicely prepared by <a href="http://www.cameron-prebble.com/">Cameron</a>).&nbsp; Let me know what do you think?<br /><br />Read on after the jump for hyper-technical explanation of how I made the map.&nbsp; <br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_ftRNxhptfh4/StuP4I5qc-I/AAAAAAAAAc4/wwsroHQdujg/s1600/hazardmapgered.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" class="" more="" src="http://4.bp.blogspot.com/_ftRNxhptfh4/StuP4I5qc-I/AAAAAAAAAc4/wwsroHQdujg/s400/hazardmapgered.png" title="Wellington Hazards and Contaminants map" /></a><br /></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_ftRNxhptfh4/StuSjYMCw6I/AAAAAAAAAdA/M0AGg0zv2YM/s1600-h/Hazards+Wellington_1255470787905.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/_ftRNxhptfh4/StuSjYMCw6I/AAAAAAAAAdA/M0AGg0zv2YM/s400/Hazards+Wellington_1255470787905.png" /></a><br /></div><br /><br />Here's the lowdown on the technical wizardry. The data is based on <a href="http://static.stuff.co.nz/files/WCC-slur.pdf">http://static.stuff.co.nz/files/WCC-slur.pdf</a>. I had to extract the data out from the pdf, obtaining a spreadsheet that looks like this:<br /><blockquote><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">No &amp; STREET &amp; City &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HAIL &amp; CLASSIFICATION&amp; CONTAMINANTS </span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">50 BUCKLE ST EASTERN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Service Stations Verified History of Hazardous Activity or Industry </span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">75 DARLINGTON RD EASTERN &nbsp;&nbsp;&nbsp; Landfill Verified History of Hazardous Activity or Industry </span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">501 EVANS BAY PDE EASTERN &nbsp;&nbsp; Service Stations Verified History of Hazardous Activity or Industry </span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">9 -11 KENT TCE EASTERN &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Storage Verified History of Hazardous Activity or Industry </span></span><br /></blockquote>The address leaves a lot to be desired. Having data like 'Eastern' for the city column makes no sense to anyone or a program. Cleaning that up and adding "Wellington NZ" would make it easier for geocoding. We now have this:<br /><br /><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">HAIL &amp; CLASSIFICATION&amp; CONTAMINANTS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full Cleaned Address</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Service Stations Verified History of Hazardous Activity or Industry &nbsp; 50 BUCKLE ST&nbsp; Wellington New Zealand</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Landfill Verified History of Hazardous Activity or Industry &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 75 DARLINGTON RD&nbsp; Wellington New Zealand</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Service Stations Verified History of Hazardous Activity or Industry &nbsp; 501 EVANS BAY PDE&nbsp; Wellington New Zealand</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Storage Verified History of Hazardous Activity or Industry &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9 -11 KENT TCE&nbsp; Wellington New Zealand</span></span><br /><br /><br />We can now geocode, using the <a href="http://pamelafox-samplecode.googlecode.com/svn/trunk/spreadsheetsgeocoder/spreadsheetsgeocoder.xml">helpful spreadsheet geocoder</a> (<a href="http://www.mail-archive.com/google-maps-api@googlegroups.com/msg09461.html">instructions here</a>). The only limitation was that only 100 addresses can be geo-coded at one time. But that's fine as I only have 592 addresses.<br /><br />Now here is the tricky bit, there is no good way to get items from a spreadsheet onto a map. The best way I could was use KML. I used the <a href="http://earth.google.com/outreach/tutorial_spreadsheet.html">Spreadsheet Mapper v2.0</a>, but it was far too painful with the browser locking with just 600 rows. Here is the resultant spreadsheet: <a href="http://spreadsheets.google.com/pub?key=tXlYA3d_eh42qOboocs8zug&amp;output=html">http://spreadsheets.google.com/pub?key=tXlYA3d_eh42qOboocs8zug&amp;output=html</a>. I will most likely use PostGis and the <a href="http://postgis.refractions.net/docs/ST_AsKML.html">asKML function</a> next time.<br /><br />Data spreadsheet: <a href="http://spreadsheets.google.com/pub?key=t_4WKBgw34UvW_zQMChuVKw&amp;gid=0">http://spreadsheets.google.com/pub?key=t_4WKBgw34UvW_zQMChuVKw&amp;gid=0</a><br /><br />Google Maps (my maps): <a href="http://maps.google.co.nz/maps/ms?ie=UTF8&amp;hl=en&amp;msa=0&amp;msid=105368590499327803003.000475dc20f9a8d9d5142&amp;t=h&amp;z=11">http://maps.google.co.nz/maps/ms?ie=UTF8&amp;hl=en&amp;msa=0&amp;msid=105368590499327803003.000475dc20f9a8d9d5142&amp;t=h&amp;z=11</a><br /><br />KML file (.kml): <a href="http://maps.google.co.nz/maps/ms?ie=UTF8&amp;hl=en&amp;t=h&amp;msa=0&amp;output=nl&amp;msid=105368590499327803003.000475dc20f9a8d9d5142">http://maps.google.co.nz/maps/ms?ie=UTF8&amp;hl=en&amp;t=h&amp;msa=0&amp;output=nl&amp;msid=105368590499327803003.000475dc20f9a8d9d5142</a>